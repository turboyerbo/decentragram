{"ast":null,"code":"import React,{Component}from'react';import Identicon from'identicon.js';class Main extends Component{render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"main\",{role:\"main\",className:\"col-lg-12 ml-auto mr-auto\",style:{maxWidth:'500px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"content mr-auto ml-auto\"},/*#__PURE__*/React.createElement(\"p\",null,\"\\xA0\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Share Image\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:event=>{event.preventDefault();var description=this.imageDescription.value;this.props.uploadImage(description);}},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\".jpg, .jpeg, .png, .bmp, .gif\",onChange:this.props.captureFile}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mr-sm-2\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{id:\"imageDescription\",type:\"text\",ref:input=>{this.imageDescription=input;},className:\"form-control\",placeholder:\"Image description...\",required:true})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",class:\"btn btn-primary btn-block btn-lg\"},\"Upload!\")),/*#__PURE__*/React.createElement(\"p\",null,\"\\xA0\"),this.props.images.map((image,key)=>{return/*#__PURE__*/React.createElement(\"div\",{className:\"card mb-4\",key:key},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"img\",{className:\"mr-2\",width:\"30\",height:\"30\",src:\"data:image/png;base64,\".concat(new Identicon(image.author,30).toString())}),/*#__PURE__*/React.createElement(\"small\",{className:\"text-muted\"},image.author)),/*#__PURE__*/React.createElement(\"ul\",{id:\"imageList\",className:\"list-group list-group-flush\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},/*#__PURE__*/React.createElement(\"p\",{class:\"text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://ipfs.infura.io/ipfs/\".concat(image.hash),style:{maxWidth:'420px'}})),/*#__PURE__*/React.createElement(\"p\",null,image.description)),/*#__PURE__*/React.createElement(\"li\",{key:key,className:\"list-group-item py-2\"},/*#__PURE__*/React.createElement(\"small\",{className:\"float-left mt-1 text-muted\"},\"TIPS: \",window.web3.utils.fromWei(image.tipAmount.toString(),'Ether'),\" ETH\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-link btn-sm float-right pt-0\",name:image.id,onClick:event=>{var tipAmount=window.web3.utils.toWei('0.1','Ether');console.log(event.target.name,tipAmount);this.props.tipImageOwner(event.target.name,tipAmount);}},\"TIP 0.1 ETH\"))));})))));}}export default Main;","map":{"version":3,"sources":["C:/Users/yerbu/CODE/decentragram/src/components/Main.js"],"names":["React","Component","Identicon","Main","render","maxWidth","event","preventDefault","description","imageDescription","value","props","uploadImage","captureFile","input","images","map","image","key","author","toString","hash","window","web3","utils","fromWei","tipAmount","id","toWei","console","log","target","name","tipImageOwner"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Identicon from 'identicon.js';\r\n\r\nclass Main extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid mt-5\">\r\n        <div className=\"row\">\r\n          <main role=\"main\" className=\"col-lg-12 ml-auto mr-auto\" style={{ maxWidth: '500px' }}>\r\n            <div className=\"content mr-auto ml-auto\">\r\n              <p>&nbsp;</p>\r\n              <h2>Share Image</h2>\r\n              <form onSubmit={(event) => {\r\n                event.preventDefault()\r\n                const description = this.imageDescription.value\r\n                this.props.uploadImage(description)\r\n              }} >\r\n                <input type='file' accept=\".jpg, .jpeg, .png, .bmp, .gif\" onChange={this.props.captureFile} />\r\n                  <div className=\"form-group mr-sm-2\">\r\n                    <br></br>\r\n                      <input\r\n                        id=\"imageDescription\"\r\n                        type=\"text\"\r\n                        ref={(input) => { this.imageDescription = input }}\r\n                        className=\"form-control\"\r\n                        placeholder=\"Image description...\"\r\n                        required />\r\n                  </div>\r\n                <button type=\"submit\" class=\"btn btn-primary btn-block btn-lg\">Upload!</button>\r\n              </form>\r\n              <p>&nbsp;</p>\r\n              { this.props.images.map((image, key) => {\r\n                return(\r\n                  <div className=\"card mb-4\" key={key} >\r\n                    <div className=\"card-header\">\r\n                      <img\r\n                        className='mr-2'\r\n                        width='30'\r\n                        height='30'\r\n                        src={`data:image/png;base64,${new Identicon(image.author, 30).toString()}`}\r\n                      />\r\n                      <small className=\"text-muted\">{image.author}</small>\r\n                    </div>\r\n                    <ul id=\"imageList\" className=\"list-group list-group-flush\">\r\n                      <li className=\"list-group-item\">\r\n                        <p class=\"text-center\"><img src={`https://ipfs.infura.io/ipfs/${image.hash}`} style={{ maxWidth: '420px'}}/></p>\r\n                        <p>{image.description}</p>\r\n                      </li>\r\n                      <li key={key} className=\"list-group-item py-2\">\r\n                        <small className=\"float-left mt-1 text-muted\">\r\n                          TIPS: {window.web3.utils.fromWei(image.tipAmount.toString(), 'Ether')} ETH\r\n                        </small>\r\n                        <button\r\n                          className=\"btn btn-link btn-sm float-right pt-0\"\r\n                          name={image.id}\r\n                          onClick={(event) => {\r\n                            let tipAmount = window.web3.utils.toWei('0.1', 'Ether')\r\n                            console.log(event.target.name, tipAmount)\r\n                            this.props.tipImageOwner(event.target.name, tipAmount)\r\n                          }}\r\n                        >\r\n                          TIP 0.1 ETH\r\n                        </button>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}